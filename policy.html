<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>개인정보 수집 및 이용 안내</title>
    <style>body{font-family:'Malgun Gothic','맑은 고딕',sans-serif;line-height:1.8;padding:40px;background-color:#f9f9f9}.container{max-width:700px;margin:0 auto;padding:30px;background-color:#fff;border:1px solid #ddd}h1{border-bottom:2px solid #333;padding-bottom:10px}.footer-notice{margin-top:50px;padding:20px;background-color:#fffde7;border:1px solid #ffc107;text-align:center;font-weight:700;border-radius:5px}</style>
</head>
<body>
    <div class="container">
        <h1>개인정보 수집 및 이용 안내</h1>
        <div class="footer-notice">
            스크롤을 끝까지 내리시면 자동으로 동의 처리되며, 이 탭은 닫힙니다.
        </div>
    </div>

    <script>
        let bottomReached = false;
        window.addEventListener('scroll', () => {
            const buffer = 5; // 오차 범위를 위한 버퍼
            if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - buffer) {
                if (!bottomReached) {
                    bottomReached = true;
                    // opener (원래 탭)가 존재하고, 그 탭에 enableConsent 함수가 있을 때만 실행
                    if (window.opener && typeof window.opener.enableConsent === 'function') {
                        window.opener.enableConsent(); // 원래 탭의 함수를 호출
                        window.close(); // 현재 탭 닫기
                    }
                }
            }
        });
    </script>
</body>
</html>
